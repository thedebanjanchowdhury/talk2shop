{"version":3,"file":"tavily-search.d.ts","names":["z","CallbackManagerForToolRun","StructuredTool","ToolParams","InferInteropZodOutput","TavilySearchAPIWrapper","TavilySearchResponse","SearchDepth","TimeRange","TopicType","TavilySearchAPIRetrieverFields","inputSchema","ZodString","ZodArray","ZodOptional","ZodEnum","ZodBoolean","ZodTypeAny","ZodObject","TavilySearch","Promise"],"sources":["../src/tavily-search.d.ts"],"sourcesContent":["import { z } from \"zod/v3\";\nimport { CallbackManagerForToolRun } from \"@langchain/core/callbacks/manager\";\nimport { StructuredTool, ToolParams } from \"@langchain/core/tools\";\nimport { InferInteropZodOutput } from \"@langchain/core/utils/types\";\nimport { TavilySearchAPIWrapper, type TavilySearchResponse } from \"./utils.js\";\nexport type SearchDepth = \"basic\" | \"advanced\";\nexport type TimeRange = \"day\" | \"week\" | \"month\" | \"year\";\nexport type TopicType = \"general\" | \"news\" | \"finance\";\n/**\n * Options for the TavilySearchResults tool.\n */\nexport type TavilySearchAPIRetrieverFields = ToolParams & {\n    /**\n     * The base URL to be used for the Tavily Search API.\n     *\n     *\n     */\n    apiBaseUrl?: string;\n    /**\n     * The maximum number of search results to return.\n     *\n     * @default 5\n     */\n    maxResults?: number;\n    /**\n     * The API key used for authentication with the Tavily Search API.\n     *\n     */\n    tavilyApiKey?: string;\n    /**\n     * Include a list of query-related images in the response.\n     *\n     * @default false\n     */\n    includeImages?: boolean;\n    /**\n     * When includeImages is set to True, this option adds descriptive text for each image.\n     *\n     * @default false\n     */\n    includeImageDescriptions?: boolean;\n    /**\n     * Include a short answer to the original query.\n     *\n     * @default false\n     */\n    includeAnswer?: boolean;\n    /**\n     * Include the cleaned and parsed HTML content of each search result.\n     * \"markdown\" returns search result content in markdown format.\n     * \"text\" returns the plain text from the results and may increase latency.\n     * If true, defaults to \"markdown\"\n     *\n     * @default false\n     */\n    includeRawContent?: boolean | \"markdown\" | \"text\";\n    /**\n     * A list of domains to specifically include in the search results.\n     *\n     * @default []\n     */\n    includeDomains?: string[];\n    /**\n     * A list of domains to specifically exclude from the search results.\n     *\n     * @default []\n     */\n    excludeDomains?: string[];\n    /**\n     * The depth of the search. It can be \"basic\" or \"advanced\".\n     *\n     * @default \"basic\"\n     */\n    searchDepth?: SearchDepth;\n    /**\n     * The category of the search. This will determine which of our agents will be used for the search. Currently, only \"general\" and \"news\" are supported. See https://docs.tavily.com/docs/rest-api/api-reference\n     *\n     * @default \"general\"\n     */\n    topic?: TopicType;\n    /**\n     * The time range of the search. This will filter the time range of the results back from the current date. See https://docs.tavily.com/docs/rest-api/api-reference\n     *\n     * @default \"general\"\n     */\n    timeRange?: TimeRange;\n    /**\n     * Whether to include the favicon URL for each result.\n     *\n     * @default false\n     */\n    includeFavicon?: boolean;\n    /**\n     * The name of the tool.\n     *\n     * @default \"tavily_search\"\n     */\n    name?: string;\n    /**\n     * The description of the tool.\n     *\n     * @default \"A search engine optimized for comprehensive, accurate, and trusted results. Useful for when you need to answer questions about current events. Input should be a search query.\"\n     */\n    description?: string;\n    /**\n     * Whether to return the tool's output directly.\n     *\n     * Setting this to true means that after the tool is called,\n     * an agent should stop looping.\n     *\n     * @default false\n     */\n    returnDirect?: boolean;\n    /**\n     * An API wrapper that can be used to interact with the Tavily Search API. Useful for testing.\n     *\n     * If specified, the tool will use this API wrapper instead of creating a new one, and fields used\n     * in API Wrapper initialization, like {@link TavilySearchAPIRetrieverFields.tavilyApiKey}, will be\n     * ignored.\n     */\n    apiWrapper?: TavilySearchAPIWrapper;\n    /**\n     * The number of content chunks to retrieve from each source. Each chunk's length is maximum 500 characters. Available only when searchDepth is advanced. See https://docs.tavily.com/docs/rest-api/api-reference\n     *\n     * @default 3\n     */\n    chunksPerSource?: number;\n    /**\n     * The country to search in. MUST be the full country name in lowercase\n     * like \"united states\" or \"united kingdom\".\n     *\n     * @default undefined\n     */\n    country?: string;\n    /**\n     * Whether to automatically determine optimal search parameters based on the query.\n     * This can only be set during tool instantiation, not at invocation time.\n     *\n     * @default false\n     */\n    autoParameters?: boolean;\n};\ndeclare const inputSchema: z.ZodObject<{\n    query: z.ZodString;\n    includeDomains: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n    excludeDomains: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n    searchDepth: z.ZodOptional<z.ZodEnum<[\"basic\", \"advanced\"]>>;\n    includeImages: z.ZodOptional<z.ZodBoolean>;\n    timeRange: z.ZodOptional<z.ZodEnum<[\"day\", \"week\", \"month\", \"year\"]>>;\n    topic: z.ZodOptional<z.ZodEnum<[\"general\", \"news\", \"finance\"]>>;\n}, \"strip\", z.ZodTypeAny, {\n    query: string;\n    includeDomains?: string[] | undefined;\n    excludeDomains?: string[] | undefined;\n    searchDepth?: \"advanced\" | \"basic\" | undefined;\n    includeImages?: boolean | undefined;\n    timeRange?: \"day\" | \"month\" | \"week\" | \"year\" | undefined;\n    topic?: \"finance\" | \"general\" | \"news\" | undefined;\n}, {\n    query: string;\n    includeDomains?: string[] | undefined;\n    excludeDomains?: string[] | undefined;\n    searchDepth?: \"advanced\" | \"basic\" | undefined;\n    includeImages?: boolean | undefined;\n    timeRange?: \"day\" | \"month\" | \"week\" | \"year\" | undefined;\n    topic?: \"finance\" | \"general\" | \"news\" | undefined;\n}>;\n/**\n * A Tool for performing searches with the Tavily Search API and retrieving\n * the results. Extends the StructuredTool class. It includes optional\n * parameters for refining search results, such as specifying domains,\n * search depth, and time ranges.\n *\n * Authentication is handled via an API key, which can be passed during\n * instantiation or set as an environment variable `TAVILY_API_KEY`.\n *\n * Example:\n * ```typescript\n * const tool = new TavilySearch({\n *   maxResults: 3,\n *   tavilyApiKey: \"YOUR_API_KEY\"\n * });\n * const results = await tool.invoke({ query: \"latest AI news\" });\n * console.log(results);\n * ```\n */\nexport declare class TavilySearch extends StructuredTool<typeof inputSchema> {\n    static lc_name(): string;\n    description: string;\n    name: string;\n    schema: z.ZodObject<{\n        query: z.ZodString;\n        includeDomains: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n        excludeDomains: z.ZodOptional<z.ZodArray<z.ZodString, \"many\">>;\n        searchDepth: z.ZodOptional<z.ZodEnum<[\"basic\", \"advanced\"]>>;\n        includeImages: z.ZodOptional<z.ZodBoolean>;\n        timeRange: z.ZodOptional<z.ZodEnum<[\"day\", \"week\", \"month\", \"year\"]>>;\n        topic: z.ZodOptional<z.ZodEnum<[\"general\", \"news\", \"finance\"]>>;\n    }, \"strip\", z.ZodTypeAny, {\n        query: string;\n        includeDomains?: string[] | undefined;\n        excludeDomains?: string[] | undefined;\n        searchDepth?: \"advanced\" | \"basic\" | undefined;\n        includeImages?: boolean | undefined;\n        timeRange?: \"day\" | \"month\" | \"week\" | \"year\" | undefined;\n        topic?: \"finance\" | \"general\" | \"news\" | undefined;\n    }, {\n        query: string;\n        includeDomains?: string[] | undefined;\n        excludeDomains?: string[] | undefined;\n        searchDepth?: \"advanced\" | \"basic\" | undefined;\n        includeImages?: boolean | undefined;\n        timeRange?: \"day\" | \"month\" | \"week\" | \"year\" | undefined;\n        topic?: \"finance\" | \"general\" | \"news\" | undefined;\n    }>;\n    apiBaseUrl?: string;\n    maxResults?: number;\n    includeImages?: boolean;\n    includeImageDescriptions?: boolean;\n    includeAnswer?: boolean;\n    includeRawContent?: boolean | \"markdown\" | \"text\";\n    includeDomains?: string[];\n    excludeDomains?: string[];\n    searchDepth?: SearchDepth;\n    topic?: TopicType;\n    days?: number;\n    timeRange?: TimeRange;\n    chunksPerSource?: number;\n    country?: string;\n    autoParameters?: boolean;\n    includeFavicon?: boolean;\n    handleToolError: boolean;\n    apiWrapper: TavilySearchAPIWrapper;\n    /**\n     * Constructs a new instance of the TavilySearch tool.\n     * @param params Optional configuration parameters for the tool.\n     *               Includes options like `maxResults`, `tavilyApiKey`,\n     *               `includeImages`, `includeAnswer`, `searchDepth`, etc.\n     *               See {@link TavilySearchAPIRetrieverFields} for details.\n     */\n    constructor(params?: TavilySearchAPIRetrieverFields);\n    _call(input: InferInteropZodOutput<typeof inputSchema>, _runManager?: CallbackManagerForToolRun): Promise<TavilySearchResponse | {\n        error: string;\n    }>;\n}\nexport {};\n"],"mappings":";;;;;;;KAKYO,WAAAA;KACAC,SAAAA;AADAD,KAEAE,SAAAA,GAFW,SAAA,GAAA,MAAA,GAAA,SAAA;AACvB;AACA;AAIA;AAA0C,KAA9BC,8BAAAA,GAAiCP,UAAH,GAAA;EAAA;;;;;EA6GH,UAAA,CAAA,EAAA,MAAA;EAsBzBQ;;;;;EAE8B,UAAtBG,CAAAA,EAAAA,MAAAA;EAAW;;;;EAEO,YAArBA,CAAAA,EAAAA,MAAAA;EAAW;;;;;EAGI,aAArBA,CAAAA,EAAAA,OAAAA;EAAW;;AAPc;AA4CtC;;EAAiC,wBAA+BH,CAAAA,EAAAA,OAAAA;EAAW;;;;;EAOf,aAApBE,CAAAA,EAAAA,OAAAA;EAAQ;;;;;;;;EAIV,iBAArBC,CAAAA,EAAAA,OAAAA,GAAAA,UAAAA,GAAAA,MAAAA;EAAW;;;;;EA6BH,cAMTT,CAAAA,EAAAA,MAAAA,EAAAA;EAAsB;;;;;EAS4F,cAA5Be,CAAAA,EAAAA,MAAAA,EAAAA;EAAO;AAvDrD;;;;gBAjHtCb;;;;;;UAMNE;;;;;;cAMID;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAmCCH;;;;;;;;;;;;;;;;;;;;;;cAsBHM,aAAaX,CAAAA,CAAEkB;SAClBlB,CAAAA,CAAEY;kBACOZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEa,SAASb,CAAAA,CAAEY;kBAC3BZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEa,SAASb,CAAAA,CAAEY;eAC9BZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;iBACdf,CAAAA,CAAEc,YAAYd,CAAAA,CAAEgB;aACpBhB,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;SACpBf,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;YACff,CAAAA,CAAEiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cAoCOE,YAAAA,SAAqBjB,sBAAsBS;;;;UAIpDX,CAAAA,CAAEkB;WACClB,CAAAA,CAAEY;oBACOZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEa,SAASb,CAAAA,CAAEY;oBAC3BZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEa,SAASb,CAAAA,CAAEY;iBAC9BZ,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;mBACdf,CAAAA,CAAEc,YAAYd,CAAAA,CAAEgB;eACpBhB,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;WACpBf,CAAAA,CAAEc,YAAYd,CAAAA,CAAEe;cACff,CAAAA,CAAEiB;;;;;;;;;;;;;;;;;;;;;;;;;gBAyBAV;UACNE;;cAEID;;;;;;cAMAH;;;;;;;;uBAQSK;eACRN,6BAA6BO,4BAA4BV,4BAA4BmB,QAAQd"}